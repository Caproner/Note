# 第十一章 数据结构

本章主要讨论基础的数据结构，为第十二章做准备。

本章会讨论三种基本数据结构：

+ 数组
+ 记录
+ 链表

其中前两种在大多数程序设计语言已经给出了其实现，而第三种则可以通过指针进行手动实现。

## 数组

简单的说就是一个**变量地址连续的一系列变量**。

### 数组的物理存储

这个在一维数组中比较容易理解。这里主要说明一下其在多维数组中的存储实现。

以二维数组为例，它的存储是先将其拉成一维数组，再使用一维数组的地址连续方式存储。

拉成一维数组的方式有两种：

+ 行主序存储：以行标号为优先的方式。
  + 以数组`a[3][3]`为例，那么其拉成一行的顺序为：`a[0][0], a[0][1], a[0][2], a[1][0], a[1][1], a[1][2], a[2][0], a[2][1], a[2][2]`
+ 列主序存储：以列标号为优先的方式。
  + 以数组`a[3][3]`为例，那么其拉成一行的顺序为：`a[0][0], a[1][0], a[2][0], a[0][1], a[1][1], a[2][1], a[0][2], a[1][2], a[2][2]`

一般计算机都是使用行主序存储的方式。

这个概念可以用递归的思想轻松的拓展到多维数组中。

### 数组的增删查改的性能

数组的优势是**随机存取**，在需要存取第i个元素的时候可以直接计算出第i个元素的地址，进而直接使用地址进行存取。时间复杂度低至`O(1)`。

数组的劣势是插入和删除。在需要插入或删除数组中间的元素的时候需要挪动数组的许多后面的元素，使得其时间开销很大。时间复杂度为`O(n)`。

## 记录

说白了就是C语言中的**结构体**。一个记录可以包括多个不同数据类型的变量。

这个。。没啥好说的吧。

## 链表

> 注：此处讨论的链表为单向链表

链表跟数组一样，也是用来表示一系列数据的。

不同的是，链表的地址不一定连续，它在每个元素后面附加上了**指向下一个数据的指针**。

于是沿着指针，链表也可以实现数组的一些操作，并且在插入和删除的时候性能优于数组。

### 链表的增删查改的性能

链表的增删查改相对会比数组麻烦一些。

#### 查找数据

链表的结构决定了链表无法随机存取，只能够实现**顺序存取**。

故其查找第i个元素需要从第一个元素开始沿着指针走i次才能找到第i个元素。

时间复杂度为`O(n)`。

#### 插入/删除数据

该操作需要先使用查找数据的功能找到需要插入的位置/需要删除的元素。

然后只需要`O(1)`的操作进行指针的修改就可以实现插入/删除了。